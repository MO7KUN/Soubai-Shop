<!-- Navbar -->
<nav class="bg-gray-800 text-white p-4 fixed top-0 left-0 right-0 z-[999]">
    <div class="flex justify-between items-center">
        <!-- Burger Menu for Sidebar (Visible on small screens) -->
        <button id="menu-btn" class="md:hidden text-white">
            <i class="fas fa-bars"></i>
        </button>
        <!-- Right Side: Shop Name -->
        <div class="text-xl font-bold">
            <i class="fas fa-store"></i> Soubai Shop
        </div>
        <!-- Left Side: Notifications and Profile Picture -->
        <div class="flex flex-row gap-6 items-center space-x-2">
            <!-- plus button -->
            <button class="w-8 h-8 text-gray-400 hover:text-white " id="plus-menu-button">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path fill="none" stroke="currentColor" stroke-width="2"
                        d="M6 12h6m0 0c2.489 0 6 0 6 0m-6 0V6m0 6v6">
                    </path>
                </svg>
            </button>

            <!-- Profile Picture with Dropdown -->
            <div class="relative">
                <button id="profile-btn" class="focus:outline-none">
                    <img src="../images/download.png" alt="Profile" class="w-8 h-8 rounded-full">
                </button>
                <!-- Profile Dropdown -->
                <div id="profile-dropdown"
                    class="hidden absolute left-0 mt-2 w-48 bg-white text-black rounded-lg shadow-lg">
                    <button class="block px-4 w-full py-2 hover:bg-gray-100">الملف
                        الشخصي</button>
                    <button onclick="window.open('parametrs.php','_self')"
                        class="block px-4 w-full py-2 hover:bg-gray-100">الإعدادات</button>
                    <button onclick="logout()" class="block w-full px-4 py-2 hover:bg-gray-100">تسجيل
                        الخروج</button>
                </div>
            </div>
        </div>

    </div>
</nav>

<!-- PLUS Dropdown menu -->
<div class="z-[999] md:left-[4rem] hidden  absolute left-1 text-base list-none  divide-y  rounded-lg shadow bg-gray-700 divide-gray-600"
    id="plus-dropdown">

    <ul class="py-2" aria-labelledby="plus-menu-button">
        <li>
            <a href="newOrder.php"
                class=" px-4 py-2 text-sm  hover:bg-gray-600 text-gray-200 hover:text-white flex-row flex gap-2 place-items-center">
                <!-- <svg xmlns="http://www.w3.org/2000/svg" fill="white" height="1em" viewBox="0 0 384 512">
                    
                    <path
                        d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16H224v80c0 17.7 14.3 32 32 32h80V448c0 8.8-7.2 16-16 16H64zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0H64zm56 256c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120z" />
                </svg> -->
                <p>طلب جديد</p>
            </a>
        </li>

        <li>
            <a href="newClient.php"
                class=" px-4 py-2 text-sm  hover:bg-gray-600 text-gray-200 hover:text-white flex-row flex gap-2 place-items-center  ">
                <!-- <svg xmlns="http://www.w3.org/2000/svg" fill="white" height="1em" viewBox="0 0 512 512">
                    <path
                        d="M165.4 96H346.6c13.6 0 25.7 8.6 30.2 21.4L402.9 192H109.1l26.1-74.6c4.5-12.8 16.6-21.4 30.2-21.4zm-90.6 .3L39.6 196.8C16.4 206.4 0 229.3 0 256v80c0 23.7 12.9 44.4 32 55.4V448c0 17.7 14.3 32 32 32H96c17.7 0 32-14.3 32-32V400H384v48c0 17.7 14.3 32 32 32h32c17.7 0 32-14.3 32-32V391.4c19.1-11.1 32-31.7 32-55.4V256c0-26.7-16.4-49.6-39.6-59.2L437.2 96.3C423.7 57.8 387.4 32 346.6 32H165.4c-40.8 0-77.1 25.8-90.6 64.3zM208 272h96c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H208c-8.8 0-16-7.2-16-16V288c0-8.8 7.2-16 16-16zM48 280c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24s-10.7 24-24 24H72c-13.3 0-24-10.7-24-24zm360-24h32c13.3 0 24 10.7 24 24s-10.7 24-24 24H408c-13.3 0-24-10.7-24-24s10.7-24 24-24z" />
                </svg> -->
                <p>عميل جديد</p>
            </a>
        </li>
        <li>
            <a href="newProduct.php"
                class=" px-4 py-2 text-sm  hover:bg-gray-600 text-gray-200 hover:text-white flex-row flex gap-2 place-items-center  ">
                <!-- <svg xmlns="http://www.w3.org/2000/svg" fill="white" height="1em" viewBox="0 0 448 512">
                    <path
                        d="M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464H398.7c-8.9-63.3-63.3-112-129-112H178.3c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3z" />
                </svg> -->
                <p>منتج جديد</p>
            </a>
        </li>

    </ul>
</div>

<!-- Sidebar -->
<div id="sidebar"
    class="fixed right-0 w-64 z-[999] h-screen bg-gray-800 text-white p-5 transform translate-x-full md:translate-x-0 transition-transform duration-300">
    <h2 class="text-center text-xl font-bold mb-4">لوحة التحكم</h2>
    <nav class="space-y-2">
        <a href="dashboard.php" id="dashboard" class="block py-2 px-4 hover:bg-gray-700 rounded-lg">
            <i class="fas fa-tachometer-alt"></i> الصفحة الرئيسية
        </a>
        <a href="orders.php" id="orders" class="block py-2 px-4 hover:bg-gray-700 rounded-lg">
            <i class="fas fa-shopping-cart"></i> الطلبات
        </a>
        <a href="clients.php" id="clients" class="block py-2 px-4 hover:bg-gray-700 rounded-lg">
            <i class="fas fa-users"></i> العملاء
        </a>
        <a href="products.php" id="products" class="block py-2 px-4 hover:bg-gray-700 rounded-lg">
            <i class="fas fa-box"></i> المنتجات
        </a>
        <a href="categories.php" id="categories" class="block py-2 px-4 hover:bg-gray-700 rounded-lg">
            <i class="fas fa-list"></i> الفئات
        </a>
        <a href="users.php" id="users" class="block py-2 px-4 hover:bg-gray-700 rounded-lg">
            <i class="fas fa-user-cog"></i> المستخدمين
        </a>
        <a href="parametrs.php" id="settings" class="block py-2 px-4 hover:bg-gray-700 rounded-lg">
            <i class="fas fa-cog"></i> إعدادات
        </a>
    </nav>
</div>

<script src="JS/mobileView.js"></script>
<script src="JS/LogOut.js"></script>
<script src="JS/sidebar.js"></script>
<!-- SweetAlert Library -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    // PLUSSSSSSSSS dpdown
    document.addEventListener('DOMContentLoaded', function () {

        const plusMenuButton = document.getElementById('plus-menu-button');
        const plusDropdown = document.getElementById('plus-dropdown');


        // Function to show the user dropdown menu
        function showPlusDropdown() {
            plusDropdown.style.display = 'block';
        }

        // Function to hide the user dropdown menu
        function hidePlusDropdown() {
            plusDropdown.style.display = 'none';
        }

        // Click event listener for the user menu button
        plusMenuButton.addEventListener('click', function (e) {
            e.stopPropagation(); // Prevent the click event from reaching the document
            const isExpanded = plusMenuButton.getAttribute('aria-expanded') === 'true';
            if (isExpanded) {
                hidePlusDropdown();

            } else {
                showPlusDropdown();
            }
        });

        // Click event listener for the document to hide the user dropdown menu
        document.addEventListener('click', function () {
            hidePlusDropdown();

        });

        // Prevent the click event on the user dropdown from propagating to the document
        plusDropdown.addEventListener('click', function (e) {
            e.stopPropagation();
        });
    });
</script>